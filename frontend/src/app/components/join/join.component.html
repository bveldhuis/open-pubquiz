<div class="container">
  <div class="join-card quiz-card-large">
    <h1 class="join-title">Join Quiz Session</h1>

    <form [formGroup]="joinForm" (ngSubmit)="onSubmit()" class="join-form">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Session Code</mat-label>
        <input matInput formControlName="sessionCode" placeholder="Enter session code">
        @if (joinForm.get('sessionCode')?.hasError('required')) {
          <mat-error>
            Session code is required
          </mat-error>
        }
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Team Name</mat-label>
        <input matInput formControlName="teamName" placeholder="Enter your team name">
        @if (joinForm.get('teamName')?.hasError('required')) {
          <mat-error>
            Team name is required
          </mat-error>
        }
        @if (joinForm.get('teamName')?.hasError('minlength')) {
          <mat-error>
            Team name must be at least 2 characters
          </mat-error>
        }
      </mat-form-field>

      <button
        mat-raised-button
        color="primary"
        type="submit"
        class="join-button"
        [disabled]="joinForm.invalid || isLoading">
        @if (isLoading) {
          <mat-spinner diameter="20" class="spinner"></mat-spinner>
        }
        @if (!isLoading) {
          <span>Join Session</span>
        }
      </button>
    </form>

    <div class="join-info">
      <p>Don't have a session code? Ask your quiz presenter for the code.</p>
      <p>The session code is usually displayed on the presenter's screen.</p>
    </div>
  </div>
</div>
