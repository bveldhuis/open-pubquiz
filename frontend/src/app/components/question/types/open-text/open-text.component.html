<div class="open-text-container">
  <div class="text-answer">
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Your Answer</mat-label>
      <textarea
        matInput
        [formControl]="answerControl"
        placeholder="Type your answer here..."
        rows="4"
        [maxlength]="maxLength"
        (input)="onInputChange()">
      </textarea>
      @if (showCharacterCount) {
        <mat-hint>
          {{ answerControl.value?.length || 0 }} / {{ maxLength }} characters
        </mat-hint>
      }
      @if (answerControl.hasError('required')) {
        <mat-error>
          Answer is required
        </mat-error>
      }
      @if (answerControl.hasError('minlength')) {
        <mat-error>
          Answer must be at least {{ minLength }} characters
        </mat-error>
      }
    </mat-form-field>
  </div>

  @if (showPreview && answerControl.value) {
    <div class="answer-preview">
      <h4>Your Answer:</h4>
      <div class="preview-content">
        {{ answerControl.value }}
      </div>
    </div>
  }
</div>
