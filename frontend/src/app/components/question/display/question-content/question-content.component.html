<div class="question-content">
  <div class="question-text">
    <h3>{{ question?.question_text }}</h3>
  </div>

  <!-- Multiple Choice -->
  @if (question?.type === 'multiple_choice') {
    <app-multiple-choice
      [question]="question"
      [isInteractive]="isInteractive"
      [selectedAnswer]="selectedAnswer"
      [showCorrectAnswer]="showCorrectAnswer"
      [isAnswerSubmitted]="isAnswerSubmitted"
      (answerSelected)="answerSelected.emit($event)">
    </app-multiple-choice>
  }

  <!-- Open Text -->
  @if (question?.type === 'open_text') {
    <app-open-text
      [question]="question"
      [isInteractive]="isInteractive"
      [isAnswerSubmitted]="isAnswerSubmitted"
      [showPreview]="showPreview"
      (answerChanged)="answerChanged.emit($event)"
      (answerValid)="answerValid.emit($event)">
    </app-open-text>
  }

  <!-- Sequence -->
  @if (question?.type === 'sequence') {
    <app-sequence
      [question]="question"
      [isInteractive]="isInteractive"
      [shuffledItems]="shuffledSequenceItems || []"
      [showCorrectAnswer]="showCorrectAnswer"
      [isAnswerSubmitted]="isAnswerSubmitted"
      (sequenceReordered)="sequenceReordered.emit($event)">
    </app-sequence>
  }

  <!-- True/False -->
  @if (question?.type === 'true_false') {
    <app-true-false
      [question]="question"
      [isDisabled]="!isInteractive || isAnswerSubmitted"
      [showCorrectAnswer]="showCorrectAnswer"
      (answerSelected)="answerSelected.emit($event)">
    </app-true-false>
  }

  <!-- Numerical -->
  @if (question?.type === 'numerical') {
    <app-numerical
      [question]="question"
      [isDisabled]="!isInteractive || isAnswerSubmitted"
      (answerChange)="answerChanged.emit($event)">
    </app-numerical>
  }

  <!-- Image -->
  @if (question?.type === 'image') {
    <app-image
      [question]="question"
      [isDisabled]="!isInteractive || isAnswerSubmitted"
      (answerChange)="answerChanged.emit($event)">
    </app-image>
  }

  <!-- Audio -->
  @if (question?.type === 'audio') {
    <app-audio
      [question]="question"
      [isDisabled]="!isInteractive || isAnswerSubmitted"
      [isPresenter]="isPresenter"
      [isActive]="isActive"
      (answerChange)="answerChanged.emit($event)">
    </app-audio>
  }

  <!-- Video -->
  @if (question?.type === 'video') {
    <app-video
      [question]="question"
      [isDisabled]="!isInteractive || isAnswerSubmitted"
      [isPresenter]="isPresenter"
      [isActive]="isActive"
      (answerChange)="answerChanged.emit($event)">
    </app-video>
  }
</div>
