@if (question) {
  <div class="question-display-container">
    <app-question-header
      [question]="question"
      [showTimer]="isActive"
      [timeRemaining]="timeRemaining"
      [totalTime]="totalTime"
      [showProgress]="true"
      (timeUp)="timeUp.emit()"
      (timeChanged)="timeChanged.emit($event)">
    </app-question-header>
    @if (isActive || showCorrectAnswer) {
      <app-question-content
        [question]="question"
        [showCorrectAnswer]="showCorrectAnswer"
        [isInteractive]="false"
        [isPresenter]="true"
        [isActive]="isActive"
        [@questionAnimation]="isActive ? 'show' : 'hide'">
      </app-question-content>
    }
    <!-- Show fun fact when question is not active -->
    @if (!isActive && !showCorrectAnswer && question.fun_fact) {
      <div class="fun-fact-preview">
        <div class="fun-fact-content">
          <mat-icon>lightbulb</mat-icon>
          <div class="fun-fact-text">
            <h4>Did you know?</h4>
            <p>{{ question.fun_fact }}</p>
          </div>
        </div>
      </div>
    }
    <!-- Show placeholder when question is not active and no fun fact -->
    @if (!isActive && !showCorrectAnswer && !question.fun_fact) {
      <div class="question-placeholder">
        <div class="placeholder-content">
          <mat-icon>visibility_off</mat-icon>
          <h3>Question Hidden</h3>
          <p>Question will be displayed when the presenter starts it.</p>
        </div>
      </div>
    }
    @if (showControls) {
      <app-presenter-controls
        [isActive]="isActive"
        [canStart]="canStart"
        [hasAnswers]="hasAnswers"
        [submissionsReceived]="submissionsReceived"
        [totalTeams]="totalTeams"
        (endQuestion)="endQuestion.emit()">
      </app-presenter-controls>
    }
  </div>
}
